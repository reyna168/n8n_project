ğŸ§© å­æµç¨‹ Aï¼šè³‡æ–™æ¸…ç†ï¼ˆData Cleaningï¼‰
ğŸ¯ åŠŸèƒ½èªªæ˜
æ­¤å­æµç¨‹è² è²¬æ¨™æº–åŒ–å®¢æˆ¶è³‡æ–™ï¼ŒåŒ…æ‹¬å»é™¤å¤šé¤˜ç©ºç™½ã€çµ±ä¸€å¤§å°å¯«ã€æ ¼å¼åŒ–é›»è©±è™Ÿç¢¼ç­‰ã€‚â€‹

ğŸ› ï¸ ç¯€é»è¨­è¨ˆ
Execute Sub-workflow Triggerï¼š

Input Data Modeï¼šâ€‹Define using fields below

å®šç¾©æ¬„ä½ï¼šâ€‹firstNameã€lastNameã€emailã€phoneâ€‹


Function ç¯€é»ï¼šæ¸…ç†è³‡æ–™ï¼š

ä»£ç¢¼ç¯„ä¾‹ï¼š
return items.map(item => {
  const firstName = item.json.firstName;
  const lastName = item.json.lastName;
  const email = item.json.email;
  const phone = item.json.phone;

  return {
    json: {
      firstName: typeof firstName === 'string' ? firstName.trim() : '',
      lastName: typeof lastName === 'string' ? lastName.trim() : '',
      email: typeof email === 'string' ? email.trim().toLowerCase() : '',
      phone: typeof phone === 'string' ? phone.replace(/\D/g, '') : ''
    }
  };
});


è¼¸å‡ºç¯€é»ï¼šâ€‹å°‡æ¸…ç†å¾Œçš„è³‡æ–™å‚³å›ä¸»æµç¨‹ã€‚â€‹


ğŸ§© å­æµç¨‹ Bï¼šè³‡æ–™é©—è­‰ï¼ˆData Validationï¼‰
ğŸ¯ åŠŸèƒ½èªªæ˜
æ­¤å­æµç¨‹è² è²¬é©—è­‰å®¢æˆ¶è³‡æ–™çš„æ­£ç¢ºæ€§ï¼Œä¾‹å¦‚æª¢æŸ¥å¿…å¡«æ¬„ä½æ˜¯å¦å­˜åœ¨ã€Email æ ¼å¼æ˜¯å¦æ­£ç¢ºã€é›»è©±è™Ÿç¢¼é•·åº¦æ˜¯å¦ç¬¦åˆè¦ç¯„ç­‰ã€‚â€‹

ğŸ› ï¸ ç¯€é»è¨­è¨ˆ
Execute Sub-workflow Triggerï¼š

Input Data Modeï¼šâ€‹Define using fields below

å®šç¾©æ¬„ä½ï¼šâ€‹firstNameã€lastNameã€emailã€phoneâ€‹

Function ç¯€é»ï¼šé©—è­‰è³‡æ–™ï¼š

ä»£ç¢¼ç¯„ä¾‹ï¼š
return items.map(item => {
  const { firstName, lastName, email, phone } = item.json;
  const errors = [];

  // æª¢æŸ¥å§“åæ¬„ä½
  if (!firstName || typeof firstName !== 'string' || !firstName.trim()) {
    errors.push('åå­—ç‚ºå¿…å¡«é …ç›®ï¼Œä¸”ä¸å¾—ç‚ºç©ºç™½');
  }
  if (!lastName || typeof lastName !== 'string' || !lastName.trim()) {
    errors.push('å§“æ°ç‚ºå¿…å¡«é …ç›®ï¼Œä¸”ä¸å¾—ç‚ºç©ºç™½');
  }

  // æª¢æŸ¥ Email æ ¼å¼
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!email || typeof email !== 'string' || !emailRegex.test(email)) {
    errors.push('Email æ ¼å¼ä¸æ­£ç¢ºæˆ–ç‚ºç©º');
  }

  // æª¢æŸ¥é›»è©±è™Ÿç¢¼é•·åº¦
  if (!phone || typeof phone !== 'string' || phone.replace(/\D/g, '').length < 8) {
    errors.push('é›»è©±è™Ÿç¢¼é•·åº¦ä¸è¶³æˆ–æ ¼å¼ä¸æ­£ç¢º');
  }

  return {
    json: {
      ...item.json,
      isValid: errors.length === 0,
      errors
    }
  };
});

è¼¸å‡ºç¯€é»ï¼šâ€‹å°‡é©—è­‰çµæœå‚³å›ä¸»æµç¨‹ã€‚â€‹

ğŸ§© å­æµç¨‹ Cï¼šè³‡æ–™å„²å­˜ï¼ˆData Storageï¼‰
ğŸ¯ åŠŸèƒ½èªªæ˜
æ­¤å­æµç¨‹è² è²¬å°‡å·²æ¸…ç†ä¸”é©—è­‰é€šéçš„å®¢æˆ¶è³‡æ–™å„²å­˜è‡³è³‡æ–™åº«ä¸­ã€‚â€‹

ğŸ› ï¸ ç¯€é»è¨­è¨ˆ
Execute Sub-workflow Triggerï¼š

Input Data Modeï¼šâ€‹Define using fields below

å®šç¾©æ¬„ä½ï¼šâ€‹firstNameã€lastNameã€emailã€phoneã€isValidã€errorsâ€‹


IF ç¯€é»ï¼šæª¢æŸ¥è³‡æ–™æ˜¯å¦æœ‰æ•ˆï¼š
æ¢ä»¶è¨­å®šï¼šâ€‹isValid ç‚º trueâ€‹


è¼¸å‡ºç¯€é»ï¼šâ€‹å›å‚³å„²å­˜çµæœæˆ–éŒ¯èª¤è¨Šæ¯ã€‚â€‹

ğŸ”„ ä¸»æµç¨‹æ•´åˆ
åœ¨ä¸»å·¥ä½œæµç¨‹ä¸­ï¼Œä¾åºå‘¼å«ä¸Šè¿°ä¸‰å€‹å­æµç¨‹ï¼Œä¸¦æ ¹æ“šæ¯å€‹å­æµç¨‹çš„è¼¸å‡ºçµæœæ±ºå®šå¾ŒçºŒæ“ä½œã€‚â€‹

è³‡æ–™è¼¸å…¥ï¼šâ€‹å¾è¡¨å–®ã€API æˆ–å…¶ä»–ä¾†æºæ¥æ”¶åŸå§‹å®¢æˆ¶è³‡æ–™ã€‚â€‹

å‘¼å«å­æµç¨‹ Aï¼ˆè³‡æ–™æ¸…ç†ï¼‰ï¼š

ç¯€é»ï¼šâ€‹Execute Sub-workflow

è¨­å®šï¼š

Sourceï¼šDatabase

Workflowï¼šData Cleaning

Modeï¼šRun once for each item

å‘¼å«å­æµç¨‹ Bï¼ˆè³‡æ–™é©—è­‰ï¼‰ï¼š

ç¯€é»ï¼šâ€‹Execute Sub-workflow

è¨­å®šï¼š

Sourceï¼šDatabase

Workflowï¼šData Validation

Modeï¼šRun once for each item

å‘¼å«å­æµç¨‹ Cï¼ˆè³‡æ–™å„²å­˜ï¼‰ï¼š

ç¯€é»ï¼šâ€‹Execute Sub-workflow

è¨­å®šï¼š

Sourceï¼šDatabase

Workflowï¼šData Storage

Modeï¼šRun once for each item

çµæœè™•ç†ï¼šâ€‹æ ¹æ“šå­æµç¨‹ C çš„è¼¸å‡ºï¼Œè¨˜éŒ„æˆåŠŸèˆ‡å¤±æ•—çš„é …ç›®ï¼Œä¸¦é€²è¡Œç›¸æ‡‰è™•ç†ã€‚


ğŸ§ª ä¸»æµç¨‹ä¸­çš„æ¨¡æ“¬è³‡æ–™è¨­ç½®
1. ä½¿ç”¨ Set ç¯€é»å»ºç«‹æ¸¬è©¦è³‡æ–™
åœ¨ä¸»æµç¨‹ä¸­æ·»åŠ ä¸€å€‹ Set ç¯€é»ï¼Œä¸¦è¨­ç½®ä»¥ä¸‹æ¬„ä½ï¼šâ€‹

firstNameï¼šJohn

lastNameï¼šDoe

emailï¼šjohn.doe@example.com

phoneï¼š(123)  456-7890â€‹


é€™æ¨£çš„è¨­ç½®æä¾›äº†ä¸€ç­†å®Œæ•´ä¸”æ ¼å¼æ­£ç¢ºçš„å®¢æˆ¶è³‡æ–™ï¼Œé©åˆç”¨æ–¼æ¸¬è©¦è³‡æ–™æ¸…ç†èˆ‡é©—è­‰å­æµç¨‹ã€‚â€‹

2. å‘¼å«å­æµç¨‹ä¸¦å‚³éè³‡æ–™
åœ¨ä¸»æµç¨‹ä¸­ï¼Œä¾åºæ·»åŠ ä¸‰å€‹ Execute Sub-workflow ç¯€é»ï¼Œåˆ†åˆ¥å°æ‡‰è³‡æ–™æ¸…ç†ã€é©—è­‰èˆ‡å„²å­˜å­æµç¨‹ã€‚â€‹

è³‡æ–™æ¸…ç†å­æµç¨‹ï¼š

è¨­å®š Source ç‚º Databaseï¼Œé¸æ“‡å°æ‡‰çš„å­æµç¨‹ã€‚

å°‡ Set ç¯€é»çš„è¼¸å‡ºé€£æ¥è‡³æ­¤ç¯€é»çš„è¼¸å…¥ã€‚â€‹

è³‡æ–™é©—è­‰å­æµç¨‹ï¼š

åŒæ¨£è¨­å®š Source ç‚º Databaseï¼Œé¸æ“‡å°æ‡‰çš„å­æµç¨‹ã€‚

å°‡è³‡æ–™æ¸…ç†å­æµç¨‹çš„è¼¸å‡ºé€£æ¥è‡³æ­¤ç¯€é»çš„è¼¸å…¥ã€‚â€‹

è³‡æ–™å„²å­˜å­æµç¨‹ï¼š

è¨­å®šæ–¹å¼èˆ‡å‰å…©å€‹å­æµç¨‹ç›¸åŒã€‚

å°‡è³‡æ–™é©—è­‰å­æµç¨‹çš„è¼¸å‡ºé€£æ¥è‡³æ­¤ç¯€é»çš„è¼¸å…¥ã€‚â€‹

é€™æ¨£çš„ä¸²æ¥æ–¹å¼ç¢ºä¿è³‡æ–™èƒ½å¤ ä¾åºé€šéä¸‰å€‹å­æµç¨‹ï¼Œä¸¦åœ¨æ¯å€‹éšæ®µé€²è¡Œç›¸æ‡‰çš„è™•ç†ã€‚â€‹


ğŸ” æ¸¬è©¦èˆ‡é©—è­‰
å®Œæˆä¸Šè¿°è¨­ç½®å¾Œï¼Œæ‚¨å¯ä»¥åŸ·è¡Œä¸»æµç¨‹ï¼Œè§€å¯Ÿæ¯å€‹å­æµç¨‹çš„è¼¸å‡ºçµæœï¼šâ€‹

è³‡æ–™æ¸…ç†å­æµç¨‹ï¼šâ€‹æª¢æŸ¥æ˜¯å¦æˆåŠŸå»é™¤å¤šé¤˜ç©ºç™½ã€çµ±ä¸€å¤§å°å¯«ã€æ ¼å¼åŒ–é›»è©±è™Ÿç¢¼ç­‰ã€‚

è³‡æ–™é©—è­‰å­æµç¨‹ï¼šâ€‹ç¢ºèªæ˜¯å¦æ­£ç¢ºé©—è­‰äº†å¿…å¡«æ¬„ä½ã€Email æ ¼å¼èˆ‡é›»è©±è™Ÿç¢¼é•·åº¦ã€‚

è³‡æ–™å„²å­˜å­æµç¨‹ï¼šâ€‹ç¢ºä¿è³‡æ–™åƒ…åœ¨é©—è­‰é€šéçš„æƒ…æ³ä¸‹è¢«å„²å­˜è‡³è³‡æ–™åº«ã€‚â€‹

é€éé€™æ¨£çš„æ¸¬è©¦æµç¨‹ï¼Œæ‚¨å¯ä»¥æœ‰æ•ˆåœ°é©—è­‰æ¯å€‹å­æµç¨‹çš„åŠŸèƒ½ï¼Œä¸¦ç¢ºä¿æ•´é«”æµç¨‹çš„æ­£ç¢ºæ€§ã€‚