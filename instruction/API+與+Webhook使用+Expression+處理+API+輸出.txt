{{ $json["name"] }}ï¼šå–å¾—ç•¶å‰é …ç›®çš„ name æ¬„ä½å€¼ã€‚
{{ $("PreviousNode").item.json["email"] }}ï¼šå–å¾—åç‚º PreviousNode ç¯€é»çš„ email æ¬„ä½å€¼ã€‚
{{ $now }}ï¼šå–å¾—ç•¶å‰çš„æ—¥æœŸèˆ‡æ™‚é–“ã€‚

è¦æå– email æ¬„ä½çš„å€¼ï¼Œå¯ä»¥åœ¨å¾ŒçºŒç¯€é»ä¸­ä½¿ç”¨ä»¥ä¸‹ Expressionï¼š


{{ $("HTTP Request").item.json["data"]["user"]["email"] }}


ä½¿ç”¨ Set ç¯€é»æ•´ç†è³‡æ–™ï¼šåœ¨æå–è³‡æ–™å¾Œï¼Œä½¿ç”¨ Set ç¯€é»ä¾†é‡æ–°å‘½åæˆ–æ•´ç†æ¬„ä½ï¼Œæœ‰åŠ©æ–¼æé«˜æµç¨‹çš„å¯è®€æ€§ã€‚
ä½¿ç”¨ Function ç¯€é»è™•ç†è¤‡é›œé‚è¼¯ï¼šç•¶éœ€è¦é€²è¡Œæ¢ä»¶åˆ¤æ–·æˆ–è³‡æ–™è½‰æ›æ™‚ï¼ŒFunction ç¯€é»æä¾›æ›´å¤§çš„å½ˆæ€§ã€‚
é¿å…ç›´æ¥ä¿®æ”¹åŸå§‹è³‡æ–™ï¼šç‚ºäº†ä¿ç•™åŸå§‹è³‡æ–™ï¼Œå»ºè­°åœ¨è™•ç†è³‡æ–™æ™‚å‰µå»ºæ–°çš„æ¬„ä½ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹åŸå§‹æ¬„ä½ã€‚
ä½¿ç”¨ Item Lists ç¯€é»è™•ç†é™£åˆ—è³‡æ–™ï¼šç•¶éœ€è¦å°é™£åˆ—è³‡æ–™é€²è¡Œæ“ä½œæ™‚ï¼ŒItem Lists ç¯€é»æä¾›äº†è¨±å¤šæ–¹ä¾¿çš„åŠŸèƒ½ï¼Œå¦‚åˆä½µã€æ‹†åˆ†ã€æ’åºç­‰ã€‚


setç¯€é»ä½¿ç”¨

{{ $("HTTP Request").item.json["location"]["name"] }}

{{ $("HTTP Request").item.json["current"]["last_updated"] }}

datetime_now
{{ $now }}




codeç¯€é»ä½¿ç”¨ï¼š

return [
  {
    json: {
      id: 1,
      firstName: "Alice",
      lastName: "Wang",
      email: "alice.wang@example.com",
      phone: "0912345678",
      city: "Taipei"
    }
  },
  {
    json: {
      id: 2,
      firstName: "Bob",
      lastName: "Chen",
      email: "bob.chen@example.com",
      phone: "0922333444",
      city: "Taichung"
    }
  },
  {
    json: {
      id: 3,
      firstName: "Charlie",
      lastName: "Lin",
      email: "charlie.lin@example.com",
      phone: "0933222111",
      city: "Kaohsiung"
    }
  },
  {
    json: {
      id: 4,
      firstName: "Diana",
      lastName: "Liu",
      email: "diana.liu@example.com",
      phone: "0944556677",
      city: "Tainan"
    }
  },
  {
    json: {
      id: 5,
      firstName: "Ethan",
      lastName: "Huang",
      email: "ethan.huang@example.com",
      phone: "0955667788",
      city: "Hsinchu"
    }
  },
  {
    json: {
      id: 6,
      firstName: "Fiona",
      lastName: "Tsai",
      email: "fiona.tsai@example.com",
      phone: "0966778899",
      city: "Keelung"
    }
  },
  {
    json: {
      id: 7,
      firstName: "George",
      lastName: "Wu",
      email: "george.wu@example.com",
      phone: "0977889900",
      city: "Chiayi"
    }
  },
  {
    json: {
      id: 8,
      firstName: "Helen",
      lastName: "Chang",
      email: "helen.chang@example.com",
      phone: "0988990011",
      city: "Hualien"
    }
  },
  {
    json: {
      id: 9,
      firstName: "Ian",
      lastName: "Lee",
      email: "ian.lee@example.com",
      phone: "0999001122",
      city: "Taitung"
    }
  },
  {
    json: {
      id: 10,
      firstName: "Jenny",
      lastName: "Kuo",
      email: "jenny.kuo@example.com",
      phone: "0900112233",
      city: "Yilan"
    }
  }
];


ğŸ“Œ ç¯„ä¾‹ï¼šä½¿ç”¨ Function ç¯€é»éæ­·è³‡æ–™é™£åˆ—ä¸¦æ–°å¢ fullName æ¬„ä½
æ–°å¢ Function ç¯€é»ï¼šåœ¨æ‚¨çš„å·¥ä½œæµç¨‹ä¸­æ–°å¢ä¸€å€‹ Function ç¯€é»ã€‚


è¼¸å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼šåœ¨ Function ç¯€é»çš„ç¨‹å¼ç¢¼å€å¡Šä¸­è¼¸å…¥ä»¥ä¸‹ JavaScript ç¨‹å¼ç¢¼ï¼š

return items.map(item => {
  const { firstName, lastName } = item.json;
  return {
    json: {
      ...item.json,
      fullName: `${firstName} ${lastName}`
    }
  };
});



return items.map(item => {
  const { firstName, lastName, email, phone } = item.json;
  const errors = [];

  // æª¢æŸ¥å§“åæ˜¯å¦å¡«å¯«
  if (!firstName || !lastName) {
    errors.push('å§“åç‚ºå¿…å¡«é …ç›®');
  }

  // æª¢æŸ¥ email æ ¼å¼
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email)) {
    errors.push('Email æ ¼å¼ä¸æ­£ç¢º');
  }

  // æª¢æŸ¥é›»è©±è™Ÿç¢¼é•·åº¦
  if (!phone || phone.length < 8) {
    errors.push('é›»è©±è™Ÿç¢¼é•·åº¦ä¸è¶³');
  }

  return {
    json: {
      ...item.json,
      isValid: errors.length === 0,
      errors
    }
  };
});



